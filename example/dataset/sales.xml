<datasource>
    <name>Sales DS</name>
    <description>All the sales</description>
    <tablename alias="s">fact_sales</tablename>
    
    <filter name="brand name" type="general" exclude="true">
        <option>Ahlem</option>
    </filter>
        
    <!-- joins can only be from the main datasource, onto another table -->
    <join>
        <!-- type inner: Includes only values with matches in both tables -->
        <!-- type left: Includes all values with matches in both tables. Members without matches will show up as null on the right -->
        <!-- type right: Includes all values with matches in both tables. Members without matches will show up as null on the left -->
        <!-- type outer: ... -->
        <type>inner</type>
        <tablename alias="p">dim_product</tablename>
        <column>id</column>
        <foreignkey>product_id</foreignkey>
    </join>

    <join>
        <type>left</type>
        <tablename alias="d">dim_date</tablename>
        <column>date</column>
        <foreignkey>order_date</foreignkey>
    </join>
    
    <join>
        <type>left</type>
        <tablename alias="c">dim_customer</tablename>
        <column>id</column>
        <foreignkey>customer_id</foreignkey>
    </join>
    
    <column>
        <name>c.fullname</name>
        <label>Customer name</label>
        <description>This is the full customer name</description>
        <type>string</type>
    </column>
    
    <column>
        <name>p.name</name>
        <label>Product name</label>
        <description>This is the full product name</description>
        <type>string</type>
    </column>
    
    <column>
        <name>d.weekday</name>
        <label>Day of the week</label>
        <description>This is the number of the day of the week</description>
        <type>string</type>
        <aggregator></aggregator>
    </column>
    
    <column>
        <name>d.weekdayname</name>
        <label>Name of the day of the week</label>
        <description>This is the full name of the day of the week</description>
        <type>string</type>
        <aggregator></aggregator>
    </column>
    
    <column>
        <name>s.price</name>
        <label>Sale price</label>
        <description>This is the price of this sale</description>
        <type>money</type>
        <aggregator>sum</aggregator>
    </column>
    


</datasource>
